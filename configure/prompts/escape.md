# 转义字符

通过特殊的**转义字符**定制你的提示符是非常简单但是重要的方法，有许多的**转义字符**代表不同的信息。大部分转移字符由符号**`%`**开始。然后，在 **`PROMPT`** 变量内，每一个转移字符都会由它们代表的信息代替。

一些转移字符可以使用可选的**整型参数**，它紧跟在**`%`**符号**之后**并在转移字符**之前**。

### 转移序列和描述

左边是转移字符，右边是它们代表的信息。

**注意**：新的转义字符可能会在以后添加。参考以下手册获取最新列表：

```shell
man zshmisc
```
- 字符

| 转义字符 | 代表信息 |
| -------- | -------- |
| `%%`     | `%`      |
| `%)`     | `)`      |

- 目录

| 转义字符 | 代表信息                                    |
| -------- | ------------------------------------------- |
| `%d`     | 当前目录`%PWD`                              |
| `%/`     | 和`%d`相同                                  |
| `%~`     | `%PWD`, 如果为`%HOME`，显示`~`              |
| `%c`     | `PWD`尾部组件。若想添加`n`个组件，使用`%nc` |
| `%.`     | 和`%c`相同                                  |
| `%C`     | 与`%c`，`%`.相似，除了`~`不显示目录名称     |

- 主机名信息

| 转义字符 | 代表信息                                   |
| -------- | ------------------------------------------ |
| `%M`     | 全部主机名                                 |
| `%m`     | 主机名到第一个`.` 可以使用`%nm`代表第`n`个 |

- 当前时间信息

| 转义字符 | 代表信息                        |
| -------- | ------------------------------- |
| `%t`     | 当前时间，12小时制，`AM/PM`格式 |
| `%@`     | 与`%t`相同                      |
| `%T`     | 当前时间，24小时制              |
| `%*`     | 当前时间，24小时制，包含秒      |

- 当前日期

| 转义字符     | 代表信息                         |
| ------------ | -------------------------------- |
| `%w`         | 当前日期，`day-dd` 格式          |
| `%W`         | 当前日期，`mm/dd/yy`格式         |
| `%D`         | 当前日期，`yy-mm-dd`格式         |
| `%D{string}` | 字符串使用`strftime`函数格式化。 |

- 杂项

| 转义字符 | 代表信息                                  |
| -------- | ----------------------------------------- |
| `%h`     | 当前历史时间编号                          |
| `%!`     | 与`%h`相同                                |
| `%L`     | `%SHLVL` 的值                             |
| `%n`     | 等于 `%USERNAME`                          |
| `%l`     | 用户登录的行（`tty`）                     |
| `%?`     | 最后一个命令的返回码                      |
| `%_`     |                                           |
| `%E`     | 清除至行尾                                |
| `%#`     | 如果`shell`使用权限运行就是`#`，否则是`%` |
| `%v`     | `psvar`数组参数的第一个元素的值           |