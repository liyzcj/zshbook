# 查看其他用户

`Zsh` 为查看特定用户的登入和登出提供一种有效的方法，用户来自一个确定的主机或者一个确定的`tty`（终端）或者`pty`（虚拟终端）等等。

首先，我们看一下一个事件是什么，并举一个例子。然后，我们学习怎么将一个事件提供给 `zsh` 和怎样获取有用的`zsh` 报告。下一页，我们将学习怎么样自定义这些报告的外观。

### 事件

对于本节来说，**事件**就是`zsh` 运行的主机上的任何登录和注销活动。

一个事件包含以下内容：

- 登录或注销的用户
- 用户连接的主机
- 用户连接的终端（`tty`）

要寻找特定用户相关的事件，只需要在事件说明中使用他们的用户名。

要寻找特定主机的事件，使用 `@` 后跟随主机名。

要寻找特定终端的事件，使用 `%` 后跟随终端名称。

这些元素中的任何一个或所有都可以用来指定事件。`Zsh` 会返回所有匹配指定元素的事件。

### 实例

匹配与用户 `schrof` 相关的事件的条目：

> schrof

匹配主机 `nebcorp.com` 并在虚拟终端 `pts/19` 的所有条目：

> @nebcorp.com%pts/19

匹配控制台上 `root` 用户的所有条目：

> root%console

### 告诉 `zsh` 查找事件

你需要将 `zsh` 应该监视的事件列表放在 **`watch`** 或者 **`WATCH`** 变量中。这可以通过命令行完成，但是通常你更想设置一个同时设置另一个。如果这个 `shell` 被 `sh` 或者 `ksh` **调用**，你**必须**使用大写的 **`WATCH`** 变量。

正常情况下，你会分配给 `watch` 变量一个数组。 然而我们这里有两个特例：

1. 监视这个系统的**所有**时间，你可以简单的赋值 `all` 给 `watch` ：

> watch=all

2. 监视**除了**你意外的所有时间，你可以赋值 `notme` 给 `watch` ：

> watch=notme

否则，你需要分配一个事件列表：

> watch=(event1 event2 ... eventN)

然后 `zsh` 会报告所有配置你的设置的事件。

### 获取报告

为 `LOGCHECK` 变量设置某个整数 `n`会使 `zsh` 每 `n` 秒反馈一次报告（默认为60秒）。你可以随时通过运行 `log` 命令报告当前登录的受 `watch` 变量监视的用户。

下一节包含有关配置报告外观的详细信息。