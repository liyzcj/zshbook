# cd的整个故事

`cd` 用于更改你当前的工作目录。他可以通过各种方式使用。（你也可以使用`cddir` ，它们是完全相同的）

### 第一种形式

对于几乎所有`UNIX`系统的 `shell`，`cd` 基本的用法如下：
| 输入         | 作用                            |
| ------------ | ------------------------------- |
| `cd`         | 切换到家目录，`${HOME}`         |
| `cd NEW_DIR` | 切换到某个目录                  |
| `cd -`       | 切换到你刚才的目录，`${OLDPWN}` |

`Zsh` 为 `cd `添加了一些有用的**函数**。

第一，如果 `zsh` 没有在当前目录找到 `NEW_DIR`（并且`NEW_DIR`不是一个绝对路径），`zsh` 会查询 `shell` 变量**`cdpath`**。它会在 `cdpath` 的每个目录中查找子目录 `NEW_DIR` ， 如果找到`NEW_DIR`，就会转向那个目录。

此外，如果你喜欢，你可以将一个目录的完整路径存储在一个 `shell` 变量中。然后，你可以输入 `cd VAR` 进入包含在变量 `VAR`中的路径。例如：

```shell
  lyric >  XDIR=/usr/lib/X11
  lyric >  cd XDIR
  ~XDIR
  lyric >  pwd
  /usr/lib/X11
```

为什么这个有用呢？为什么不直接输入`$XDIR`？原因是你可以获得其他的好处，本质上讲，这意味着这个目录可以迅速扩展和各种内建中得到特殊处理。

### 第二种形式

第二种形式非常方便！输入：

```shell
cd OLD NEW
```

然后 `zsh` 使用`NEW`替换当前目录所有出现的`OLD`，并那个目录。

一个例子：

```shell
  lyric > pwd
  /usr/local/encap/fvwm-2.2/libexec/fvwm/2.2
  lyric > cd 2.2 2.0.46
  /usr/local/encap/fvwm-2.0.46/libexec/fvwm/2.0.46
  lyric > 
```

### 第三种形式

第三种形式是从目录栈中抽取一个条目，并切换到该目录。（`n` 为一个整数）

```shell
cd +n
cd -n
```

要查看目录栈，输入

> dirs -v

给入参数 `+n`会提取目录栈的第`n`个条目，从左边（上边）开始数。使用 `-n` 从右边（下边）开始数。

如果你想切换 `+` 和 `-` 的含义，请打开选项 `PUSHD_MINUS`。

### `cd` 的参数

所有的 `cd` 形式都可以使用以下参数：
| 命令        | 功能                                   |
| ----------- | -------------------------------------- |
| `cd -s DIR` | 如果`DIR`中包含链接，则不进入`DIR`     |
| `cd -P DIR` | 切换之前将所有符号链接设为真实值       |
| `cd -L DIR` | 遵循符号链接，忽略 `CHASE_LILNKS` 选项 |

**注意**： 打开选项 `CHASE_LINKS` 与 `-P` 效果相同。