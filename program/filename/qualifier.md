# 操作符和限定符

### 操作符

以下字符串用来匹配文件名：

`*`：匹配任何字符串，包括空字符串。
`?`：匹配任意一个字符
`[...]`：匹配任何附加字符

- 字符范围可以由`-`分隔的两个字符限定
- `]`和`-`可以作为列表的第一个字符匹配
- 有一些特殊的字符类可以由格式`[:CLASS:]`指定。请注意，方括号用于指定一系列字符。
- 下面是字符类的列表：
  - `[:alnum:]`：字母和数字组合
  - `[:alpha:]`：字母
  - `[:blank:]`：空格或制表符
  - `[:cntrl:]`：控制字符
  - `[:digit:]`：十进制数字
  - `[:graph:]`：除空格外可打印字符
  - `[:lower:]`：小写字母
  - `[:print:]`：可打印字符
  - `[:punct:]`：除了字母数字和空格的可打印字符
  - `[:space:]`：空白字符
  - `[:upper:]`：大写字符
  - `[:xdigit:]`：十六进制数字
  - 以上由`os`提供。

`[^...]`：类似于`[...]`，但是匹配所有字符。
`[!...]`：和`[^...]`相同
`(...)`：匹配封闭的`pattern`，用于分组

`x|y`：匹配`x`或者`y`。优先权最低，必须用于`(...)`内，避免作为管道符。

`^x`：（需要打开`EXTENDED_GLOB`）匹配除了`x`的所有字符。优先级高于`/`，例如`^foo|bar`会在除了`./foo`以外的文件夹寻找`bar`文件。

`x~y`：（需要打开`EXTENDED_GLOB`）返回匹配`x`不匹配`y`的结果。优先权低于除了`|`以外的所有符号。所以，`*/*~foo/bar`会搜索`.`目录下的所有文件除了`foo/bar`。可以从左向右排除多个，例如`foo~bar~baz`。

`x#`：（需要打开`EXTENDED_GLOB`）匹配出现0次或多次`x`。高优先权。`12#`等于`1(2#)`，而不是`(12)#`。

`x##`：（需要打开`EXTENDED_GLOB`）匹配出现0次或多次`x`。`12##`等于`1(2##)`，而不是`(12)##`。

---

### 限定符

有时候你不想要匹配到的**每一个**结果。例如，可能你想要忽略目录。`zsh`提供许多限定符来限制模式匹配的文件名。你应该用括号包含这个限定符。

| 限定符      | 代表                                                |
| ----------- | --------------------------------------------------- |
| `/`         | 目录                                                |
| `.`         | 纯文件                                              |
| `@`         | 符号链接文件                                        |
| `=`         | 端口                                                |
| `p`         | 命名的管道                                          |
| `*`         | 可执行纯文件                                        |
| `%`         | 设备文件                                            |
| `%b`        | 块特殊文件                                          |
| `%c`        | 字符特殊文件                                        |
| `r`         | 可读文件                                            |
| `w`         | 可写文件                                            |
| `x`         | 可执行文件                                          |
| `A`         | 组可读文件                                          |
| `I`         | 组可写文件                                          |
| `E`         | 组可执行文件                                        |
| `R`         | 全部可读文件                                        |
| `W`         | 全部可写文件                                        |
| `X`         | 全部可执行文件                                      |
| `s`         | 设置 `uid`文件                                      |
| `S`         | 设置`gid`文件                                       |
| `t`         | 带有粘性位的文件                                    |
| `ddev`      | 在`dev`设备上的文件                                 |
| `l[-`       | `+]ct`                                              |
| `U`         | 属于`UID`的文件                                     |
| `G`         | 属于`GID`的文件                                     |
| `uid`       | 如果是数字，则为数字，否则为`u:name`或`u[name]`等等 |
| `gid`       | 和`uid`类似                                         |
| `a[Mwhm][-` | `+]n`                                               |
| `m[Mwhm][-` | `+]n`                                               |
| `c[Mwhm][-` | `+]n`                                               |
| `L[+`       | `-]n`                                               |
| `^`         | 否定后面所有词                                      |
| `-`         | 生效于符号链接和它们指向的文件                      |
| `M`         | 为当前模式设置`MARK_DIRS`选项                       |
| `T`         | 为当前设置`LIST_TYPES`选项                          |
| `N`         | 为当前模式设置`NULL_GLOB`选项                       |
| `D`         | 为当前模式设置`GLOB_DOTS`选项                       |
| `n`         | 设置`NUMERIC_GLOB_SORT`选项                         |